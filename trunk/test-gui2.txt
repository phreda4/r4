| test-gui2.txt
| boton y zona sensible
| PHREDA 2009
|----------------------------------
^reda4.txt
^libgui.txt
^font.txt
^fonti.txt
^libsprite.txt

#trazo )( 2048
#trazo> 'trazo

|----------------------------
:++trazo | u --
	trazo> @ =? ( drop ; )
:+trazo | u --
	trazo> !+ 'trazo> ! ;
:-trazo
	'trazo 'trazo> ! ;

:trazo.draw
	'trazo @+ 0? ( 2drop ; ) >xy op
	( trazo> <? )( @+ >xy line ) drop ;

|----------------------------
#acc
#estado 0
:nlinedraw
	blanco trazo.draw
	verde gc.box
%1000 'acc !
	[ xymouse xy> +trazo 1 estado or 'estado ! %100 'acc ! ; ] onDn
	[ xymouse xy> ++trazo 2 estado or 'estado ! %10 'acc ! ; ] onMove
	[ -trazo 4 estado or 'estado ! 1 'acc ! ; ] onUp
	;

|----------------------------
:botonsalir
	'exit "Salir" $ff0000 .btnl ;

:botonentrar
	'exit "Entrar" $ff00 .btnl ;

:boton2
	'exit "Salir" $ff00ff .btnl ;

|----------------------------
#guibox
0.7 0.7 0.0 0.0 'nlinedraw
0.1 0.1 -0.45 0.45 'botonsalir
0.1 0.1 -0.35 0.45 'boton2
0.2 0.2 0.4 0.4 'botonentrar
0

#acum 0

:main
	inikey
	'exit >esc<

	showo cls scr
|		24 font verde
|		dup "%d" print cr
|		estado "%b" print
		scr 'guibox gui
		scr fonti blanco acc acum "%b %d" print
		acum acc or 'acum !
		ccruz
		 ;

:
	33 main
	"main.txt" run ;

