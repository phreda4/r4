| Fuente vectoriales
| PHREDA
|----------------------------
^libgraf.txt
^libprint.txt

#car0 ( -47 -94 -89 6 102 7 103 6 -90 55 33 -60 71 6 70 7 -57 6 -58 -25 -47 -92 -13 21 4 -11 -92 -39 74 2 -87 -126 0 )
#car1 ( -94 -89 6 102 7 103 6 -90 7 0 )
#car2 ( -94 -95 4 -27 100 37 4 101 1 -92 0 )
#car3 ( 98 -95 4 -27 -92 37 4 101 -7 100 0 )
#car4 ( 17 -30 -76 -90 7 -87 -12 -103 6 -87 22 1 100 23 86 36 85 103 22 -12 -26 87 21 0 )
#car5 ( -94 89 -12 105 6 89 22 1 100 -9 86 36 -75 -89 22 -12 -26 -73 -11 -76 -90 7 0 )
#car6 ( -62 -57 6 70 7 71 6 -58 7 0 )
#car7 ( 65 -62 -59 68 69 -60 0 )
#car8 ( -63 -62 65 4 -63 68 -60 0 )
#car9 ( -15 -62 -59 68 -11 17 -62 69 68 21 0 )
#car10 ( 17 66 73 4 17 -60 68 -63 -62 68 -7 4 -63 -60 0 )
#car11 ( 65 -62 68 9 4 65 -60 -13 68 -71 4 -15 -60 0 )
#car12 ( -30 -58 -25 -57 -26 22 1 70 65 22 -26 -58 39 7 -26 0 )
#car13 ( -62 -47 4 -63 54 -25 -9 -7 30 62 -15 70 21 9 62 30 17 54 39 71 49 6 1 -60 0 )
#car14 ( -62 -63 4 1 68 65 4 1 -60 0 )
#car15 ( -62 -25 -34 -18 -15 6 -31 -4 -57 22 62 -31 54 -7 36 62 -15 70 21 9 62 38 33 52 65 62 30 -2 39 17 4 33 -18 -34 -58 7 0 )
#car16 ( 81 -14 -90 7 -95 4 100 5 81 -12 -79 66 12 -1 86 -59 70 -73 0 )
#car17 ( -39 -6 -63 -90 -41 -25 -15 -18 -42 7 23 -18 -42 39 55 -10 28 54 39 23 102 -11 54 -25 -41 30 6 -65 -79 -10 -63 -18 -55 -26 -39 -2 -15 -62 -75 -116 -11 -60 0 )
#car18 ( -30 -31 -60 -55 -82 -71 -66 -87 -50 -63 -26 -31 4 -63 36 -87 62 -71 78 -55 94 -31 70 1 36 33 68 57 94 73 78 89 62 65 38 33 4 65 -28 89 -50 73 -66 57 -82 33 -58 1 -28 0 )
#car19 ( -63 34 20 -11 68 -27 1 116 33 68 21 20 61 36 105 4 57 -28 -12 21 -60 37 1 -108 -31 -60 -11 -12 -59 -28 -111 4 -63 36 0 )
#car20 ( -79 -78 -28 -63 -44 -15 4 -63 52 -79 36 84 -27 -47 68 1 20 49 68 25 84 85 73 36 65 52 17 4 65 -44 73 -28 -76 37 49 -60 1 -12 -47 -60 -31 -76 -75 0 )
#car21 ( -78 -73 6 86 7 87 6 -74 7 0 )
#car22 ( -95 50 84 -59 52 -91 97 66 69 36 101 68 -31 -62 -92 5 -60 -27 -79 66 -15 -76 81 52 -79 68 0 )
#car23 ( -15 -78 -79 68 65 36 -15 -76 -95 -94 100 101 -92 -91 0 )
#car24 ( -71 74 -66 7 79 54 45 -34 7 -33 78 -67 0 )
#car25 ( -71 74 -66 7 79 54 -71 76 0 )
#car26 ( -102 -41 -79 -66 -47 -34 7 55 81 -66 49 -98 7 -79 -54 68 -47 102 7 55 81 70 36 49 70 7 20 55 81 -10 -52 49 -18 7 -41 -79 -50 0 )
#car27 ( -111 34 -71 28 -79 94 15 87 73 46 61 49 62 15 -41 -55 30 -15 36 -63 -36 -111 36 -55 -46 -67 -79 -98 -1 87 73 -26 105 -36 65 36 25 -36 57 -28 49 -66 -1 -41 -55 -42 0 )
#car28 ( -79 -14 -63 -28 -7 36 65 -76 89 -44 17 68 1 102 -15 70 -79 -12 0 )
#car29 ( -39 -110 39 -26 6 25 14 81 68 49 116 -7 44 -15 54 -33 -105 -26 -106 -33 -87 -30 30 -33 15 -26 -82 -33 -81 -26 0 )
#car30 ( -78 -73 6 86 7 87 6 -74 7 -7 10 -47 -12 -39 -20 -7 -4 -60 13 12 -3 0 )
#car31 ( -15 -38 -39 -28 4 -23 12 -15 -36 0 )
#car32 ( 0 )
#car33 ( 50 -17 78 102 7 31 78 54 7 34 31 -58 -90 7 -17 -58 38 7 0 )
#car34 ( -71 -22 -47 -12 -15 -68 -90 -33 -57 -66 -71 -20 33 -14 65 -68 -90 47 23 -66 9 -20 33 -12 0 )
#car35 ( -47 -94 -52 -75 -20 -43 28 -75 60 -43 100 -19 60 29 100 53 60 85 28 53 -20 85 -52 53 -92 29 -52 -19 -92 -43 -23 26 29 -20 -19 28 0 )
#car36 ( -15 -78 -57 -26 22 -9 52 -43 84 -11 100 21 84 71 38 -10 23 -44 53 -76 21 -92 -11 -76 -46 -25 -26 -10 -9 -44 17 18 39 38 54 23 20 0 )
#car37 ( 73 -70 65 -92 -71 60 -63 84 73 -68 -79 -54 -74 -49 -25 -50 -26 -49 -73 -50 57 82 87 62 38 63 39 62 86 63 0 )
#car38 ( -94 -49 -15 6 -71 102 7 47 78 57 92 65 68 49 52 57 28 41 12 33 36 17 4 65 -90 7 -70 -25 1 -10 41 -66 7 18 -39 78 7 31 62 1 20 0 )
#car39 ( -94 -17 -66 -31 -20 -7 -12 25 -68 -90 7 0 )
#car40 ( 33 -94 -95 6 33 102 -31 6 33 -90 0 )
#car41 ( -31 -94 33 6 -31 102 97 6 -31 -90 0 )
#car42 ( -15 -30 -39 -52 -55 -28 -23 4 -55 36 -39 60 -15 36 68 21 36 41 60 57 36 25 4 57 -28 41 -52 17 -28 -60 -11 -28 0 )
#car43 ( -15 -62 -12 -59 20 -11 68 21 20 69 -12 21 -60 -11 0 )
#car44 ( -31 106 -23 68 46 7 31 70 -7 116 0 )
#car45 ( -47 18 -12 53 20 -43 0 )
#car46 ( 98 -17 78 54 7 31 78 102 7 0 )
#car47 ( -47 98 -63 68 49 -92 65 -60 -47 100 0 )
#car48 ( -94 -57 6 102 7 71 6 -90 7 -62 -25 6 70 7 39 6 -58 7 17 -46 -23 20 -15 52 25 -12 17 -44 0 )
#car49 ( -7 98 -36 -27 -60 1 -92 37 100 -3 0 )
#car50 ( 65 66 -27 30 7 71 -26 -90 7 -57 -34 -27 -58 7 39 -26 -2 7 -57 102 69 68 0 )
#car51 ( -63 -46 -90 7 71 -42 6 39 71 54 102 7 -57 54 -27 70 7 39 46 22 -9 -12 39 -34 -58 7 -25 -42 -59 0 )
#car52 ( -94 -71 20 52 5 100 37 52 69 20 37 -92 5 -46 -39 20 5 -44 0 )
#car53 ( 65 -62 -27 -28 5 71 38 102 7 -57 38 -27 70 7 39 38 6 7 -59 -92 69 -60 0 )
#car54 ( 49 -94 5 -57 6 102 7 71 38 -26 7 -27 -58 7 53 -92 -31 34 70 7 39 38 6 7 -25 38 0 )
#car55 ( -63 -94 69 -60 -31 100 -59 33 -60 -59 -92 0 )
#car56 ( -94 -57 -42 6 -25 -57 54 102 7 71 54 6 39 71 -42 -90 7 -62 -25 -34 -10 7 39 -34 -58 7 18 -25 46 70 7 39 46 22 7 0 )
#car57 ( -47 98 5 71 6 -90 7 -57 -26 38 7 29 33 70 7 -43 100 1 2 -25 -26 -58 7 39 -26 6 7 0 )
#car58 ( 82 -17 62 38 7 31 62 86 7 -78 -17 -50 -26 7 31 -50 -74 7 0 )
#car59 ( -31 106 -23 60 38 7 31 62 -7 116 -31 108 1 -78 -17 -50 -26 7 31 -50 -74 7 0 )
#car60 ( 41 -94 -63 4 41 100 65 84 -23 4 65 -76 41 -92 0 )
#car61 ( 49 50 20 -43 52 53 -47 -14 53 -44 -43 -12 0 )
#car62 ( -39 -94 65 4 -39 100 -63 84 17 4 -63 -76 -39 -92 0 )
#car63 ( 98 -17 78 54 7 31 78 102 7 17 34 -11 -26 23 39 -42 -58 7 -25 -42 -59 -90 7 71 -42 6 39 23 38 0 )
#car64 ( 9 -22 -17 6 30 -1 15 -18 33 -46 -41 6 54 -1 23 25 38 87 6 -90 7 -89 6 102 7 87 54 61 78 7 -65 6 -66 7 63 6 22 39 -44 0 )
#car65 ( -63 98 -15 -92 21 65 100 37 25 60 -19 -31 100 -59 1 -62 -15 28 21 1 -60 0 )
#car66 ( -63 -94 100 5 71 46 6 39 71 -34 -90 7 -59 -31 -62 -12 5 39 -34 -58 7 -27 18 68 5 39 46 22 7 -27 0 )
#car67 ( -94 -57 -26 36 102 7 71 38 37 70 7 -25 38 -28 -58 7 39 -26 69 -90 7 0 )
#car68 ( -63 -94 100 5 71 38 -28 -90 7 -59 -31 -62 68 5 39 38 -28 -58 7 -27 0 )
#car69 ( -63 -94 100 69 68 -27 20 37 -12 -27 -60 69 -92 -59 0 )
#car70 ( -63 -94 100 -27 20 37 -12 -27 -60 69 -92 -59 0 )
#car71 ( -94 -57 -26 36 102 7 71 38 -4 5 20 37 70 7 -25 38 -28 -58 7 39 -26 69 -90 7 0 )
#car72 ( -63 -94 100 -27 20 37 100 69 -92 37 -12 -27 -92 -59 0 )
#car73 ( -15 -94 100 21 -92 -11 0 )
#car74 ( 33 -94 4 70 7 -25 38 -59 102 7 71 6 -92 37 0 )
#car75 ( -63 -94 100 -27 20 25 100 61 -7 4 57 -92 29 -31 -12 -92 -59 0 )
#car76 ( -63 -94 100 69 68 -27 -92 -59 0 )
#car77 ( -63 98 -92 -27 1 -36 33 -92 69 100 37 -52 1 4 -31 -52 100 -59 0 )
#car78 ( -63 -94 100 -27 -44 33 100 69 -92 37 52 -31 -92 -59 0 )
#car79 ( -94 -57 6 102 7 71 6 -90 7 -62 -25 6 70 7 39 6 -58 7 0 )
#car80 ( -63 -94 100 -27 20 5 71 -34 -90 7 -59 -31 -62 -12 5 39 -34 -58 7 -27 0 )
#car81 ( -94 -57 -26 36 102 7 31 33 86 49 100 65 84 49 68 65 62 38 -28 -90 7 -62 -25 -26 36 70 7 9 60 -7 44 9 28 25 44 33 36 -28 -58 7 0 )
#car82 ( -63 -94 100 -27 20 33 100 69 1 20 71 -34 -90 7 -59 -31 -62 -12 5 39 -34 -58 7 -27 0 )
#car83 ( 65 -46 -90 7 -57 -34 22 7 39 46 70 7 -25 54 -59 102 7 71 46 -10 7 -25 -34 -58 7 39 -42 69 0 )
#car84 ( -63 -94 -60 -11 100 21 -60 69 -92 -59 0 )
#car85 ( -63 -94 4 102 7 71 6 -92 37 4 70 7 -25 6 -92 -59 0 )
#car86 ( -63 -94 -15 100 21 65 -92 37 1 52 -31 -92 -59 0 )
#car87 ( -63 -94 -47 100 -19 1 36 25 100 53 65 -92 37 25 28 1 -20 -23 28 -31 -92 -59 0 )
#car88 ( -63 -94 -15 4 -63 100 -27 1 36 33 100 69 17 4 65 -92 37 1 -20 -31 -92 -59 0 )
#car89 ( -31 -94 1 -12 33 -92 69 17 20 100 -11 20 -63 -92 -27 0 )
#car90 ( -63 -94 69 -44 -31 68 69 100 -59 52 33 -60 -59 -92 0 )
#car91 ( 33 -94 -27 100 37 68 5 -60 37 -92 0 )
#car92 ( -47 -94 65 68 49 100 -63 -60 -47 -92 0 )
#car93 ( -31 -94 37 100 -27 68 5 -60 -27 -92 0 )
#car94 ( -94 -47 -28 4 1 -44 49 4 -28 1 -92 0 )
#car95 ( -79 82 116 85 84 -75 0 )
#car96 ( -94 -17 -66 9 -12 33 -20 25 -68 -90 7 0 )
#car97 ( 98 -49 70 30 33 22 6 7 -25 22 -51 -18 7 63 22 100 37 84 102 7 33 42 -25 70 78 7 39 46 0 )
#car98 ( -55 -78 100 -27 84 102 7 63 46 -18 7 -25 -2 -76 -51 1 2 -25 46 78 7 39 46 6 7 0 )
#car99 ( 33 58 78 7 -25 46 6 7 39 22 61 -18 7 -49 46 102 7 63 62 37 0 )
#car100 ( 57 98 37 84 102 7 -49 46 -18 7 39 -2 -76 61 100 1 2 -25 46 78 7 39 46 6 7 0 )
#car101 ( -22 -49 38 102 7 63 70 37 78 7 -25 54 61 -18 7 2 -25 30 5 37 6 7 0 )
#car102 ( -23 98 5 4 29 -20 5 -58 39 -84 -17 -18 -43 4 -19 100 0 )
#car103 ( 57 -22 84 118 7 -49 86 -27 1 102 33 86 68 78 7 -49 30 -18 7 39 -2 -20 61 1 2 39 30 54 7 -25 30 6 7 0 )
#car104 ( -55 98 -27 52 6 7 39 54 100 61 52 -18 7 -25 -2 -76 -51 100 0 )
#car105 ( -15 98 21 -20 -11 100 1 -46 -9 -58 -74 7 23 -58 -42 7 0 )
#car106 ( 41 -22 21 60 94 7 -9 78 -35 118 7 47 62 -20 25 -46 47 -58 -74 31 15 -58 -42 31 0 )
#car107 ( -23 98 -43 -76 -19 4 -7 20 17 -20 33 4 9 36 49 76 41 100 -23 36 100 0 )
#car108 ( -15 -78 52 102 39 76 15 54 -76 -11 0 )
#car109 ( -55 -22 100 -27 20 6 -9 7 22 100 29 20 6 47 63 22 100 85 28 -18 55 15 -2 -18 -1 -25 -2 -20 -51 0 )
#car110 ( -47 -22 100 -19 36 6 7 31 38 100 53 36 -18 7 -17 -2 -20 -43 0 )
#car111 ( -22 -49 46 102 7 63 46 -18 7 2 -25 46 78 7 39 46 6 7 0 )
#car112 ( -55 -22 116 -27 84 102 7 63 46 -18 7 -25 -2 -20 -51 1 2 39 46 78 7 -25 46 6 7 0 )
#car113 ( -22 -49 46 102 7 39 86 116 61 -20 37 -4 -18 7 2 -25 46 78 7 39 46 6 7 0 )
#car114 ( -15 98 -35 -20 -11 -4 -18 47 4 -9 38 100 0 )
#car115 ( -55 58 -27 78 7 39 62 54 7 -55 46 22 -18 7 63 22 37 6 7 -25 22 30 7 63 62 102 7 -49 62 0 )
#car116 ( -15 102 -78 -20 -27 4 -11 60 33 102 76 15 62 4 29 -20 13 -76 -11 0 )
#car117 ( -31 -22 -51 36 102 -1 13 63 38 -20 37 41 86 1 78 -39 86 -31 -18 0 )
#car118 ( -31 -22 -51 -15 100 21 57 -20 37 1 68 -31 -20 0 )
#car119 ( -39 -22 -59 -39 100 -11 1 68 17 100 45 65 -20 45 25 60 1 20 -23 60 -39 -20 0 )
#car120 ( -55 -22 -27 1 28 33 -20 61 17 44 49 100 29 1 60 -31 100 -51 -15 44 -55 -20 0 )
#car121 ( -55 -22 -27 46 7 39 -18 61 84 49 118 31 -19 -49 86 -27 1 102 33 86 52 70 7 -49 30 -20 0 )
#car122 ( -55 -22 61 12 -31 76 61 100 -51 68 33 4 -51 -20 0 )
#car123 ( 49 -94 -1 -50 9 -10 -23 6 9 22 -7 62 102 39 17 78 33 54 22 9 6 33 -10 -34 17 -66 49 -90 0 )
#car124 ( -15 -94 100 21 -92 -11 0 )
#car125 ( -31 -94 23 -50 -7 -10 25 6 -7 22 17 62 102 -25 1 78 -15 46 -31 22 -7 6 -31 -10 -15 -34 1 -66 -31 -90 0 )
#car126 ( -47 -14 -15 -42 17 -10 49 -28 4 17 38 -15 6 -47 20 -12 0 )
#car127 ( -15 -14 21 20 -11 0 )

#fnt1 'car0 'car1 'car2 'car3 'car4 'car5 'car6 'car7 'car8 'car9 'car10 'car11 'car12 'car13 'car14 'car15 'car16 'car17
'car18 'car19 'car20 'car21 'car22 'car23 'car24 'car25 'car26 'car27 'car28 'car29 'car30 'car31 'car32 'car33 'car34 'car35
'car36 'car37 'car38 'car39 'car40 'car41 'car42 'car43 'car44 'car45 'car46 'car47 'car48 'car49 'car50 'car51 'car52 'car53
'car54 'car55 'car56 'car57 'car58 'car59 'car60 'car61 'car62 'car63 'car64 'car65 'car66 'car67 'car68 'car69 'car70 'car71
'car72 'car73 'car74 'car75 'car76 'car77 'car78 'car79 'car80 'car81 'car82 'car83 'car84 'car85 'car86 'car87 'car88 'car89
'car90 'car91 'car92 'car93 'car94 'car95 'car96 'car97 'car98 'car99 'car100 'car101 'car102 'car103 'car104 'car105 'car106
'car107 'car108 'car109 'car110 'car111 'car112 'car113 'car114 'car115 'car116 'car117 'car118 'car119 'car120 'car121
'car122 'car123 'car124 'car125 'car126 'car127

#sfnt1 ( 4 0 0 0 0 0 0 0 0 8 0 0 0 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 8
8 10 10 10 10 9 6 8 8 8 8 6 8 6 10 10 6 10 10 10 10 10 10 10 10 6 6
9 8 9 10 10   10 10 10 10 10 10 10 10 4 10 10 10 10  10 10 10 10 10 10 10 10 10 10 10 10 10
8 8 8 8 12 8  8 8 8 8 8 6 8 8 4 6 8 5 10 8 8 8 8 7 8 6 8 8 8 8 8 8 6 4 6 6 )
|             a b c d e f g h i j k l m  n o p q r s t u v w x y z


#xa #ya #fc
#xx #yy

|--- fuente de letra | 00000 00 0 | valor op x/y
:tox w 5 *>> xc + ;
:toy h 5 *>> yc + ;

:recuadro
	xc w 2 >> 1+ - yc h 2/ - 2dup op
	2dup h + 2dup swap w 2/ 1+ + swap 2dup h -
	pline pline pline pline ;

|--------- dibuja poligonos 8 bits sin color
:p1 xa ya op ;
:p2 xa ya pline ;
:p3 fc 0? ( xa ya cp )( xa ya pcurve ) not 'fc ! ;
#fp8acc 0 p1 p2 p3

::v8draw | addr --
	inverso 1? ( recuadro ) drop
	0 dup tox 'xa ! dup toy 'ya ! 'fc !
	( c@+ 1? )(
		dup $1 and? ( 3 >> tox 'xa )( 3 >> toy 'ya ) !
		$6 and 2* 'fp8acc + @ exec ) 2drop
	poli ;

|------------- Conversion 32-8-32
:fp8.32to8xy | v -- t x y
	dup $3 and 2*
	over 27 >> 3 <<
	rot 14 << 27 >> 3 << ;

:fp8.graba8 | v --
	fp8.32to8xy | t x y
	yy =? ( drop xx =? ( 2drop ; ) dup 'xx ! or 1 or ,c ; )
	swap xx =? ( drop dup 'yy ! or ,c ; )
	dup 'xx ! 1 or ,c dup 'yy ! or ,c ;

::fp.32>8 | 'desde32 'en8 --
	'here !  0 'xx ! 0 'yy !
	( @+ 1? )( fp8.graba8 ) ,c drop ;

| xxxxx - xxxxx100000000
|-----------------------------------------
:fp.8to32xy | v -- t v | de 5 bits a 14 bits
	dup 3 >> 9 << ;

:q0 drop ;  :q1 1 or , ;  :q2 2 or , ;
:q3 fc not 'fc ! 3 or , ; | ( 3 )( 3 ) curva recta siempre
|-:q3 fc 0? ( 3 )( 3 ) swap not 'fc ! or , ; | ( 3 )( 3 ) curva recta siempre

#vord 'q0 'q1 'q2 'q3

:fp.graba32 | v --
	fp.8to32xy |t v
	over 1 and 0? ( 'yy )( 'xx ) nip !
	xx 18 << yy 4 << $3fff0 and or swap
	6 and 2* 'vord + @ exec	;

::fp.8>32 | 'desde8 'en32 --
	'here ! 0 'fc ! 0 'xx ! 0 'yy !
	( c@+ 1? )( fp.graba32 ) , drop ;

|-----------  fuente de lineas
:a0 drop ;
:a1	>xy op ;
:a2	>xy pline ;
:a3  >xy fc 0? ( >r cp )( >r pcurve ) r> not 'fc ! ;
#acclin  a0 a1 a2 a3
::v8draw32 | adr --
	( @+ 1? )(
		dup $3 and 2 << 'acclin + @ exec
		) 2drop poli ;

|-------------------------- dibujo en 8
:b1 xa ya gop ;
:b2 xa ya gline ;
:b3 fc 0? ( xa ya gcp )( xa ya gcurve ) not 'fc ! ;
#fpolid 0 b1 b2 b3
::vdraw8 | addr gro --
	dup gg gg
	0 dup tox 'xa ! dup toy 'ya ! 'fc !
	( c@+ 1? )(
		dup $1 and? ( 3 >> tox 'xa )( 3 >> toy 'ya ) !
		$6 and 2* 'fpolid + @ exec ) 2drop ;

|----------------------- Lineas en 8
:l1 xa ya op ;
:l2 xa ya line ;
:l3 fc 0? ( xa ya cp )( xa ya curve ) not 'fc ! ;
#lpolil 0 l1 l2 l3
::vline8 | adr --
	0 dup tox 'xa ! dup toy 'ya ! 'fc !
	( c@+ 1? )(
		dup $1 and? ( 3 >> tox 'xa )( 3 >> toy 'ya ) !
		$6 and 2* 'lpolil + @ exec ) 2drop ;

|------------------------ dibujo en 32
:c0 drop ;
:c1	>xy gop ;
:c2	>xy gline ;
:c3  >xy fc 0? ( >r gcp )( >r gcurve ) r> not 'fc ! ;
#acclin1  c0 c1 c2 c3
::vdraw32 | adr gro --
	dup gg gg
	( @+ 1? )(
		dup $3 and 2 << 'acclin1 + @ exec
		) 2drop ;

|------------- Conversion 32->8
:32to8xy2 | v -- t x y
	dup $3 and 2*
	over 27 >> 3 <<
	rot 14 << 27 >> 3 << ;

:graba82 | v --
	32to8xy2 | t x y
	yy =? ( drop xx =? ( 2drop ; ) dup 'xx ! or 1 or ,c ; )
	swap xx =? ( drop dup 'yy ! or ,c ; )
	dup 'xx ! 1 or ,c dup 'yy ! or ,c ;

::fl.32>8 | 'desde32 'en8 --
	'here !  0 'xx ! 0 'yy !
	( @+ 1? )( graba82 ) ,c drop ;

|------------- Conversion 8->32
| xxxxx - xxxxx100000000
:8to32xy3 | v -- t v | de 5 bits a 14 bits
	dup 3 >> 9 << ;

:w0 drop ; :w1 1 or , ; :w2 2 or , ;
:w3 fc 0? ( 3 )( 3 ) swap not 'fc ! or , ;
#vword 'w0 'w1 'w2 'w3
:graba32 | v --
	8to32xy3 |t v
	over 1 and 0? ( 'yy )( 'xx ) nip !
	xx 18 << yy 4 << $3fff0 and or swap
	6 and 2* 'vword + @ exec	;

::fl.8>32 | 'desde8 'en32 --
	'here ! 0 'fc ! 0 'xx ! 0 'yy !
	( c@+ 1? )( graba32 ) , drop ;

|----------------------------------
|--- fuente de letra | 00000 00 0 | valor op x/y
:ctox ccw 5 *>> ccx + ;
:ctoy cch 5 *>> ccy + ;

:crecuadro
	ccx ccw 2 >> 1+ - ccy cch 2/ - 2dup op
	2dup cch + 2dup swap ccw 2/ 1+ + swap 2dup cch -
	pline pline pline pline ;

:cv8draw | addr --
	inverso 1? ( crecuadro ) drop
	0 dup ctox 'xa ! dup ctoy 'ya ! 'fc !
	( c@+ 1? )(
		dup $1 and? ( 3 >> ctox 'xa )( 3 >> ctoy 'ya ) !
		$6 and 2* 'fp8acc + @ exec ) 2drop
	poli ;

|-----------------------------------------------------
:charsizev | c -- cnt
	$7f and 'sfnt1 + c@ ccw 5 *>> ;

:charo | c --
	2 << 'fnt1 + @ cv8draw ;

:charov | c --
	$7f and 2 << 'fnt1 + @ dup
	-1 dup 'ccx +! 'ccy +!
	oscuro cv8draw
	1 dup 'ccx +! 'ccy +!
	claro cv8draw ;

:chardoble
	2 << 'fnt1 + @ dup
	ccw 5 >> dup 'ccx +! 'ccy +!
	negro sfill cv8draw
	ccw 5 >> 2* neg dup 'ccx +! 'ccy +!
    blanco dup cv8draw
	ccw 5 >> dup 'ccx +! 'ccy +!
	lfill cv8draw sfill ;

|--------------------------------------------
::font | lineas --
	wtext home
	'charov 'charsizev setfont ;

::sfont | lineas --
	wtext home
	'charo 'charsizev setfont ;

::bfont | lineas --
	wtext home
	'chardoble 'charsizev setfont ;

