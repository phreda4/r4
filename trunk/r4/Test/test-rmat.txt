| test rmation
| PHREDA
|-------------------
^r4/lib/gui.txt
^r4/lib/rsprite.txt
^r4/lib/bmr.txt
^r4/lib/fontj.txt

^inc/dibujos.rmt
^inc/pelea.spr
|^inc/pelea.vsp
^inc/pablo.bmr

#r1 1.0 'new1 0 0 0 0 0 0
#r2 1.0 'new2 0 0 0 0 0 0

#rn )( 1024

:rnmap | 'vector --
	'rn 10 ( 1? )( 1- swap pick2 exec 32 + swap ) 3drop ;

:debugr
	dup 8 + @+ "%h " print @+ "%h " print @+ "%h " print @+ "%h " print cr
	@ dup "%h " print
	4+ |( @+ 1? )( drop ) drop
	|"%h" print
	16 ( 1? )( 1- swap @+ "%h " allowcr print swap ) 2drop
	cr ;

:debugrn
	'debugr  rnmap ;

:freeze
	usogui
	show 'exit <f2>
	;

:main
	[ 'new0 over 4+ ! ; ] rnmap
	[ rand8 $1f and 1+ ( 1? )( 1- over rstep ) drop ; ] rnmap

	usogui fontj
	show clrscr
		dup "%d" print cr
		omode
		0 0 2.0 mtrans
		'r1 rplay
		'r2 rplay

|		xymouse pos 100 dup dim 'dib8 nsprite
|		'uno xymouse bmr.draw

		-1.6 0 2.0 mtransi

		[ dup rplay 0.3 0 0 mtransi ; ] rnmap
|		debugrn
		'exit >esc<
		'freeze <f2>
		;


: mark 2 linegr! 33 main ;