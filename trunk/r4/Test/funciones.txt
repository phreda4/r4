| Grafica Seno y Coseno usando glineas
| PHREDA
|-------------------------------------------
^r4/lib/gui.txt

:3dop project3d op ;
:3dline project3d line ;

:ejes
	blanco
	-5.0 0 0 3dop 5.0 0 0 3dline
	0 -5.0 0 3dop 0 5.0 0 3dline
|	0 0 -5.0 3dop 0 0 5.0 3dline
	-5.0 ( 5.0 <? )(
		dup 0.01 0 3dop dup -0.01 0 3dline
		0.01 over 0 3dop -0.01 over 0 3dline
		1.0 + ) drop
	;

:drawfun | v --
	>r
	-5.0 dup r exec 0 3dop
	-5.0 ( 5.0 <? )(
		dup dup r exec 0 3dline
		0.01 + ) drop
	rdrop ;


:ftestcos | v -- r
	$3fff +

:ftestsin | v -- r
	$3fff + $8000 and? ( [ neg ; ] >r )
	$7fff and $3fff -

	6.2831 *. | radianes->bangle
	dup dup *. | f sqr
	dup 498 *. | f sqr resul
	10882 -
	swap *.
	1.0 +
	*. ;

| tan en radianes
:ftesttan | v -- f
	dup dup *.
	dup 13323 *.
	20810 +
	swap *.
	1.0 +
	*. ;

#xcam 0 #ycam 0 #zcam 10.0
:inicio
	0 paper
	show clrscr
	'exit >esc<
	[ 0.1 'ycam +! ; ] <up>
	[ -0.1 'ycam +! ; ] <dn>
	[ 0.1 'xcam +! ; ] <le>
	[ -0.1 'xcam +! ; ] <ri>
	[ 0.1 'zcam +! ; ] <pgdn>
	[ -0.1 'zcam +! ; ] <pgup>
 
		1.0 3dmode
		xcam ycam zcam mtrans
		ejes
		verde 'sin drawfun

		rojo 'ftestsin drawfun
|		azul 'ftestcos drawfun
		cflecha ;

: 4 inicio ;