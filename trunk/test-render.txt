| PHREDA 2008
|-----------------------------------
^reda4.txt
^gui.txt
^libcolor.txt

#rr1 255.0 #gg1 0.0 #bb1 0.0
#sr1 -0.1 #sg1 0.02 #sb1 0.004

#rrs1 0
#ggs1 0
#bbs1 0
#dr1 255
#dg1 0
#db1 0

#ccol1
#ccol2

:render4
	framev sw 200 * 2 << + >r
	100 ( 1? )( 1-
		ccol1 setcol1
		1024 ccol2 setcol2
		r> colmorph >r
		) drop
	rdrop ;
	

:render2 | --
	framev >r
	100 ( 1? )( 1- 
		1024 ccol1 ccol2
		r> cmorph >r
		) drop
	rdrop ;

:render3 |
	framev sw 100 * 2 << + >r
	100 ( 1? )( 1-
		512 ccol2 ccol1
		r> cmorph 
		sw 512 - 2 << + 
		>r
		) drop
	rdrop ;

:main2
	.page
	'exit >esc<
	16 16 .table
	1 13 .at 6 1 .to
	rojo 255 'rrs1 .hsli .\
	verde  255 'ggs1 .hsli .\
	azul 255 'bbs1 .hsli .\
	8 13 .at 6 1 .to
	rojo 255 'dr1 .hsli .\
	verde  255 'dg1 .hsli .\
	azul 255 'db1 .hsli .\
	.show cls
		render2
		render3
		render4
		rrs1 $ff and 16 << 
		ggs1 $ff and 8 << or
		bbs1 $ff and or 'ccol1 !

		dr1 $ff and 16 << 
		dg1 $ff and 8 << or
		db1 $ff and or 'ccol2 !
		
		32 font blanco
		0 16 at

|		1024 col1 col2 calccc
|		bc gc rc "%d %d %d " print cr
|		sb sg sr "%d %d %d " print cr

|		bbs1 ggs1 rrs1 "%h %h %h" print cr
|		db1 dg1 dr1 	"%h %h %h" print cr
|		dr1 16 << rrs1 16 << - 1024 / "%h" print
		;


:main3
	inikey
	'exit >esc<
	show
		0 0 setxy
		msec 7 >> $f and 1+
		sh ( 1? )( 1-
			sw ( 1? )( 1-
				over over xor dup pick4 << or px!+
				) drop
			) 2drop
	;

: main3
"main.txt" run ;