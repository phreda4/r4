^reda4.txt
^gui.txt
^inc/pablo.inc

|         x   y   w   h   r   'dib
#spelota	0.0 0.0	0.1 0.1 0.0 'dibu1
#spez		0.0 0.0 0.1 0.1 0.0 'dibu2
#stomate	0.5 0.0 0.2 0.2 0.0 'dibu8
#spiedra	0.0 0.5 0.02 0.02 0.0 'dibua
#sbrillo	-0.5 0.0 0.2 0.2 0.0 'dibue

#slayer1 spez stomate sbrillo spelota spiedra 0

#vx 0.011 #vy 0.018
#vpx 0 #vpy 0

:main
	.page
	'exit >esc<
	[ 0.01 'vpx ! ; ] <der>
	[ -0.01 'vpx ! ; ] <izq>
	[ 0 'vpx ! ; ] dup >der< >izq<
	[ 0.01 'vpy ! ; ] <arr>
	[ -0.01 'vpy ! ; ] <aba>
	[ 0 'vpy ! ; ] dup >arr< >aba<
	.show cls
		'slayer1 sdrawlayer
		0.001 'sbrillo srot!
|		0.001 'spiedra sscale!

		vx vy 'spelota smove!
		vpx vpy 'spiedra smove!

		'spelota 'slayer1 sHitlayer
		1? ( 0.001 over srot! ) drop
		'spiedra 'slayer1 sHitlayer
		1? ( -0.001 over srot! ) drop 
		'spelota
		@+ abs 1.0 >? ( vx neg 'vx ! ) drop
		@ abs 1.0 >? ( vy neg 'vy ! ) drop
		;

: main "main.txt" run ;